(function(e){function t(t){for(var r,a,i=t[0],l=t[1],c=t[2],f=0,d=[];f<i.length;f++)a=i[f],o[a]&&d.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),o=n.n(r);o.a},"1d4f":function(e,t,n){},"2eb9":function(e,t,n){"use strict";var r=n("60b0"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("2b0e"),o=n("5c96"),s=n.n(o),a=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-container",[n("el-header",[e._v("api-doc")]),n("el-main",[n("SideMenu",{staticClass:"side-menu"}),n("router-view",{staticClass:"main"})],1),n("el-footer")],1)],1)}),i=[],l=n("5530"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{attrs:{"default-openeds":[this.$route.params.folderName],"default-active":e.defaultActive,"background-color":"#333333","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect,open:e.handleOpen}},e._l(e.folderList,(function(t){return n("el-submenu",{key:t.name,attrs:{index:t.name}},[n("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e._l(t.apis,(function(t){return n("el-menu-item",{key:t.name,attrs:{index:t.name}},[e._v(e._s(t.name))])}))],2)})),1)},u=[],f=(n("ac1f"),n("5319"),n("2f62")),d={name:"SideMenu",computed:Object(l["a"])({defaultActive:function(){return decodeURI(window.location.hash.substring(1))}},Object(f["d"])("folder",["folderList"]),{},Object(f["c"])("folder",["getApiList"])),mounted:function(){this.getFolderList();var e=this.$route.params.folderName;null!=e&&this.getFolderApiList({folderName:e})},methods:Object(l["a"])({handleSelect:function(e,t){this.$router.replace({name:"doc",params:{folderName:t[0]}}),window.location.href="#"+e},handleOpen:function(e){0===this.getApiList(e).length&&this.getFolderApiList({folderName:e})}},Object(f["b"])("folder",["getFolderList","getFolderApiList"]))},p=d,m=n("2877"),h=Object(m["a"])(p,c,u,!1,null,"6730f057",null),v=h.exports,b=new WebSocket("ws://"+window.location.hostname+":3001"),g={name:"app",components:{SideMenu:v},mounted:function(){b.onmessage=function(e){"refresh"===e.data&&(console.log("refresh"),this.refresh())}.bind(this)},methods:Object(l["a"])({},Object(f["b"])("folder",["refresh"]))},_=g,L=(n("034f"),Object(m["a"])(_,a,i,!1,null,null,null)),y=L.exports,j=n("8c4f"),w=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},O=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("这大概是主页")])])}],x={name:"Home"},A=x,S=Object(m["a"])(A,w,O,!1,null,"fdf4e6e0",null),E=S.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"module-doc"},e._l(e.getApiList(e.folderName),(function(e){return n("ApiDocItem",{key:e.name,attrs:{title:e.name,path:e.request.path,method:e.request.method,description:e.description,request:"GET"===e.request.method?e.request.query:e.request.body,response:e.response}})})),1)},q=[],N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{attrs:{id:e.title}},[n("el-row",[n("el-col",{attrs:{offset:1,span:10,xs:22}},[n("h1",[e._v(e._s(e.title))]),n("div",[e._v(e._s(e.description))])]),n("el-col",{attrs:{offset:1,span:6,xs:22}},[n("div",{staticClass:"api-path"},[n("el-tag",{staticClass:"api-method"},[e._v(e._s(e.method))]),e._v(" "+e._s(e.path)+" ")],1)])],1),n("el-row",[n("el-col",{attrs:{offset:1,span:10,xs:22}},[n("h3",[e._v("请求参数")]),n("el-table",{attrs:{data:e.request,stripe:"",border:""}},[n("el-table-column",{attrs:{prop:"key",label:"参数名称"}}),n("el-table-column",{attrs:{prop:"type",label:"类型"}}),n("el-table-column",{attrs:{label:"必填项"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"select-cnt-text"},[e._v(e._s(t.row.required?"√":"×"))])]}}])}),n("el-table-column",{attrs:{prop:"description",label:"说明"}})],1)],1),n("el-col",{attrs:{offset:1,span:6,xs:22}},[n("h3",[e._v("请求示例")]),n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.reqCode,expression:"reqCode"}]},[e._v("                "),n("code",{staticClass:"javascript"}),e._v("\n            ")])])],1),n("el-row",[n("el-col",{attrs:{offset:1,span:10,xs:22}},[n("h3",[e._v("响应参数")]),n("el-table",{attrs:{data:e.response,stripe:"",border:""}},[n("el-table-column",{attrs:{prop:"key",label:"参数名称"}}),n("el-table-column",{attrs:{prop:"type",label:"类型"}}),n("el-table-column",{attrs:{prop:"description",label:"说明"}})],1)],1),n("el-col",{attrs:{offset:1,span:6,xs:22}},[n("h3",[e._v("响应示例")]),n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.resJson,expression:"resJson"}]},[e._v("                "),n("code",{staticClass:"javascript"}),e._v("\n            ")])])],1)],1)},P=[],C=(n("4160"),n("159b"),{name:"ApiDocItem",computed:{reqCode:function(){var e="{\n";return"GET"===this.method.toUpperCase()||"DELETE"===this.method.toUpperCase()?(this.request.forEach((function(t){e=e+"        "+t.key+":{"+t.key+"},\n"})),e="{\n    params:"+e+"    }\n}"):(this.request.forEach((function(t){e=e+"    "+t.key+":{"+t.key+"},\n"})),e+="}"),"axios."+this.method.toLowerCase()+"('"+this.path+"',"+e+").then(res => {})"},resJson:function(){var e="{\n";return this.response.forEach((function(t){e=e+"    "+t.key+":{"+t.key+"},\n"})),e+="}",e}},props:{title:String,path:String,method:String,description:String,request:Array,response:Array}}),F=C,$=(n("2eb9"),Object(m["a"])(F,N,P,!1,null,"913b8498",null)),M=$.exports,T={name:"Doc",components:{ApiDocItem:M},props:{folderName:String},computed:Object(l["a"])({},Object(f["c"])("folder",["getApiList"]))},D=T,I=(n("d6d2"),Object(m["a"])(D,k,q,!1,null,"d8f35dcc",null)),J=I.exports;r["default"].use(j["a"]);var U=new j["a"]({mode:"history",routes:[{path:"/doc/:folderName",name:"doc",component:J,props:!0},{path:"*",name:"home",component:E}]}),R=(n("4de4"),n("7db0"),n("d81d"),n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("bc3a")),B=n.n(R),G=B.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).BASE_API,timeout:15e3});G.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),G.interceptors.response.use((function(e){return 200!==e.status?(console.log(e),Promise.reject("error"+e.statusText)):e.data}),(function(e){return Promise.reject(e)}));var H=G,V={getList:function(){return H.get("/folder",{data:{}})},getApis:function(e){return H.get("/folder/"+e)}},W={folder:V},z={namespaced:!0,state:{folderList:[]},getters:{getApiList:function(e){return function(t){var n=e.folderList.find((function(e){return e.name===t}));return null==n||null==n.apis?[]:n.apis}}},mutations:{updateFolderList:function(e,t){e.folderList=t},updateApiList:function(e,t){e.folderList.map((function(e){e.name===t.folderName&&(e.apis=t.apiList)}))}},actions:{getFolderList:function(e){var t=e.commit;return new Promise((function(e,n){W.folder.getList().then((function(n){n.map((function(e){e.apis=[]})),t("updateFolderList",n),e()})).catch((function(e){n(e)}))}))},getFolderApiList:function(e,t){var n=e.commit;return new Promise((function(e,r){W.folder.getApis(t.folderName).then((function(r){n("updateApiList",{folderName:t.folderName,apiList:r}),e()})).catch((function(e){r(e)}))}))},refresh:function(e){var t=e.commit,n=e.state;return new Promise((function(e,r){var o=n.folderList.filter((function(e){return null!=e.apis&&e.apis.length>0})).map((function(e){return new Promise((function(t){W.folder.getApis(e.name).then((function(n){e.apis=n,t()}))}))}));o.length>0?Promise.all(o).then((function(){return W.folder.getList()})).then((function(r){r.map((function(e){var t=n.folderList.find((function(t){return t.name===e.name}));e.apis=null==t?[]:t.apis})),t("updateFolderList",r),e()})):W.folder.getList().then((function(n){n.map((function(e){e.apis=[]})),t("updateFolderList",n),e()})).catch((function(e){r(e)}))}))}}},K=z;r["default"].use(f["a"]);var Q=new f["a"].Store({state:{},mutations:{},actions:{},modules:{folder:K}}),X=n("998c"),Y=n.n(X);n("6476");r["default"].use(Y.a),r["default"].config.productionTip=!1,r["default"].use(s.a),new r["default"]({router:U,store:Q,render:function(e){return e(y)}}).$mount("#app")},"60b0":function(e,t,n){},"85ec":function(e,t,n){},d6d2:function(e,t,n){"use strict";var r=n("1d4f"),o=n.n(r);o.a}});
//# sourceMappingURL=app.1db6c269.js.map